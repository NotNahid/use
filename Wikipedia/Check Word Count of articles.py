cat <<'EOF' > compare_all.py
#!/usr/bin/env python3
import requests
import re
import time
import urllib.parse

# All competitors' articles
competitors = {
    "ARI": [
        "ржбрж╛ржЗржнрж┐ржВ рж╕рж┐рж▓рж┐ржирзНржбрж╛рж░",
        "ржмрж╛рж╕рзНрждрж┐рж▓",
        "ржПржЖржЗ ржорж╛рж░рзНржХ рзк рж░рж╛ржбрж╛рж░",
        "ржЗржВрж▓рзНржпрж╛ржирзНржбрзЗрж░ ржоржзрзНржпржпрзБржЧрзАржпрж╝ ржХрзНржпрж╛ржерзЗржбрзНрж░рж╛рж▓ рж╕рзНржерж╛ржкрждрзНржп",
        "ржХрзНржпрж╛рж▓рж┐ржлрзЛрж░рзНржирж┐ржпрж╝рж╛рж░ ржЧржнрж░рзНржирж░ ржкрзНрж░рждрзНржпрж╛рж╣рж╛рж░ ржирж┐рж░рзНржмрж╛ржЪржи, рзирзжрзирзз",
        "ржмржпрж╝ржбрзЗрж▓ рж╢рзЗржХрзНрж╕ржкрж┐ржпрж╝рж░ ржЧрзНржпрж╛рж▓рж╛рж░рж┐",
        "рж╕рж╛ржорж╛ржЬрж┐ржХ ржирзНржпрж╛ржпрж╝ржмрж┐ржЪрж╛рж░",
        "рж╣рж╛рж▓рж┐рж╕рзНржХрзЛ",
        "ржЧрзНрж░рзНржпрж╛ржирзНржб рж╕рзЗржирзНржЯрзНрж░рж╛рж▓ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗрж░ ржЗрждрж┐рж╣рж╛рж╕",
        "ржорж╛рж░рзНржХрж┐ржи рж╕рзАржорж╛ржирзНржд",
        "ржПрж╢рзАржпрж╝ ржЬрж╛ржжрзБржмрж┐ржжрзНржпрж╛",
        "рж░рзБржб ржХржирж╕рзЗрж╢ржи",
        "рж░рже ржжрзМржбрж╝",
        "ржЬрзЗржирж╛рж░рзЗрж╢ржи ржЖрж▓ржлрж╛",
        "ржЗржиржлрзНрж▓рзБржпрж╝рзЗржЮрзНржЬрж╛ ржорж╣рж╛ржорж╛рж░рзА, рззрзлрзорзж",
        "рж╣рж▓рзЛржХрж╛рж╕рзНржЯ ржУ ржЧржгрж╣рждрзНржпрж╛ ржмрж┐рж╖ржпрж╝ржХ ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ рж╕ржорзНржорзЗрж▓ржи"
    ],
    "Aishik Rehman": [
        "ржлрзБржХрзБрж╢рж┐ржорж╛ ржжрж╛ржЗржЗржЪрж┐ ржкрж░ржорж╛ржгрзБ ржжрзБрж░рзНржШржЯржирж╛ ржерзЗржХрзЗ ржмрж┐ржХрж┐рж░ржгрзЗрж░ ржкрзНрж░ржнрж╛ржм",
        "ржжрзЗрж╢ ржЕржирзБржпрж╛ржпрж╝рзА ржмрж╛ржХрж╕рзНржмрж╛ржзрзАржирждрж╛",
        "ржЖржжрж┐ржмрж╛рж╕рзА ржЬржиржЧрзЛрж╖рзНржарзА ржЧржгрж╣рждрзНржпрж╛",
        "ржкрзБрж▓рж┐рж╢рж┐ ржжрзБрж░рзНржирзАрждрж┐",
        "ржжржХрзНрж╖рж┐ржг рж╕рзБржжрж╛ржирзЗрж░ ржЧрзГрж╣ржпрзБржжрзНржз",
        "рж╕рзНржкрзЗржирзАржпрж╝тАУржЙрж╕ржорж╛ржирзАржпрж╝ ржпрзБржжрзНржзрж╕ржорзВрж╣",
        "ржерж╛ржо рж▓рзБржпрж╝рж╛ржВ ржЧрзБрж╣рж╛ ржЙржжрзНржзрж╛рж░ ржЕржнрж┐ржпрж╛ржи",
        "рж╕рзБрж╕рзНржерждрж╛рж░ ржкрзНрж░ржнрж╛ржмржХ",
        "рж╣рж╕рзНрждржорзИржерзБржи рж╕ржорзНржкрж░рзНржХрзЗ ржЦрзНрж░рж┐рж╕рзНржЯрзАржпрж╝ ржжрзГрж╖рзНржЯрж┐ржнржЩрзНржЧрж┐",
        "ржирж╛ржЧрж░рж┐ржХ ржЕржзрж┐ржХрж╛рж░ ржЖржирзНржжрзЛрж▓ржи",
        "рж╕рзНржкрзЗржирзЗрж░ рж╕ржорж╕рж╛ржоржпрж╝рж┐ржХ ржЗрждрж┐рж╣рж╛рж╕",
        "ржЦрзНрж░рж┐рж╕рзНржЯрзАржпрж╝ рж╕ржВрж╕рзНржХрзГрждрж┐",
        "ржирж╛ржЧрж░рж┐ржХ ржмрж┐ржЬрзНржЮрж╛ржи",
        "ржЧрзБржЧрж▓рзЗрж░ рж╕ржорж╛рж▓рзЛржЪржирж╛",
        "ржпрзБржХрзНрждрж░рж╛ржЬрзНржпрзЗрж░ рж╕ржВржмрж┐ржзрж╛ржи",
        "ржЙржирзНржиржпрж╝ржи ржпрзЛржЧрж╛ржпрзЛржЧ",
        "ржорж╛ржирж╣рж╛ржирж┐",
        "ржбрж┐ржкржлрзЗржХ",
        "ржЧржнрзАрж░ рж╕ржорзБржжрзНрж░рзЗрж░ ржЦржирж┐ ржЖрж╣рж░ржг",
        "ржЗрждрж╛рж▓рж┐рж░ рж╕ржВрж╕рзНржХрзГрждрж┐",
        "ржпрзБржХрзНрждрж░рж╛ржЬрзНржпрзЗрж░ рж╕ржВрж╕рзНржХрзГрждрж┐",
        "ржЗржВрж▓рзНржпрж╛ржирзНржбрзЗрж░ рж╕ржВрж╕рзНржХрзГрждрж┐",
        "ржмрж┐рж╢рзНржм рж╕рзБржЦ ржкрзНрж░рждрж┐ржмрзЗржжржи",
        "рж╕рзАрж╕рж╛ ржмрж┐рж╖ржХрзНрж░рж┐ржпрж╝рж╛",
        "ржХрж╕рзЛржнрзЛ ржпрзБржжрзНржз",
        "ржЦрж╛рж▓рж┐рж╕рзНрждрж╛ржи ржЖржирзНржжрзЛрж▓ржи",
        "ржнрж┐рж▓рж╣рзЗрж▓рзНржо ржХрзНрж▓рзЗржо",
        "ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ ржлрзБржЯржмрж▓рзЗ ржЗрж╕рзНржЯржмрзЗржЩрзНржЧрж▓ ржлрзБржЯржмрж▓ ржХрзНрж▓рж╛ржм",
        "ржЧрж╛ржЬрж╛рж░ ржорж╛ржиржмрж┐ржХ рж╕ржВржХржЯ",
        "ржЙржЗржХрж┐ржкрж┐ржбрж┐ржпрж╝рж╛рж░ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржпрждрж╛",
        "ржнрж╛рж░рждрзЗ ржХрзГрждрзНрж░рж┐ржо ржмрзБржжрзНржзрж┐ржорждрзНрждрж╛",
        "ржЖрж▓ржмрзЗржирзАржпрж╝",
        "ржкрж╛рж░ржорж╛ржгржмрж┐ржХ-ржмрж┐рж░рзЛржзрзА ржЖржирзНржжрзЛрж▓ржи",
        "рждрзБрж░рзНржХрж┐ ржЬрж╛рждрж┐",
        "ржмржирзНржпржкрзНрж░рж╛ржгрзАрж░ ржХрж╖рзНржЯ",
        "ржХрзБржХрзБрж░рзЗрж░ рж▓ржбрж╝рж╛ржЗ",
        "ржкрзНрж░рж╛ржгрзАрж░ ржкрзНрж░рждрж┐ ржирж┐рж╖рзНржарзБрж░рждрж╛",
        "ржмржпрж╝рж╕ржмрж╛ржж",
        "ржЧрж░рзНржнржкрж╛ржд ржЖржЗржи",
        "ржорж╛рж░рзНржХрж┐ржи рж╕рж╛ржВржХрзЗрждрж┐ржХ ржнрж╛рж╖рж╛",
        "ржЪржХрзНрж░рж╛ржХрж╛рж░ ржЕрж░рзНржержирзАрждрж┐",
        "рж╕рзБржжрж╛ржирзЗрж░ ржЗрждрж┐рж╣рж╛рж╕",
        "ржкрж░рж┐ржЪржпрж╝ржкрждрзНрж░",
        "ржорж┐рж▓рж┐ржирж┐ржпрж╝рж╛рж▓рж╕",
        "ржлрзЗрж╕ржмрзБржХрзЗрж░ ржЗрждрж┐рж╣рж╛рж╕",
        "ржЬрзЗржирж╛рж░рзЗрж╢ржи ржПржХрзНрж╕",
        "ржмрзНрж░рж╛ржЬрж┐рж▓рзАржпрж╝ ржкрж░рзНрждрзБржЧрж┐ржЬ",
        "ржХрзЗржк ржХржб",
        "ржЕрж╕рзНржЯрзНрж░рзЗрж▓рзАржпрж╝ ржЗржВрж░рзЗржЬрж┐",
        "рж╣рж╛ржЬрж░ ржкрж░рзНржмрждржорж╛рж▓рж╛"
    ],
    "Tuhin": [
        "ржЕрж╕рзНржЯрзНрж░рзЗрж▓рзАржпрж╝ рж╕рж╛ржВржмрж┐ржзрж╛ржирж┐ржХ рж╕ржВржХржЯ, рззрзпрзнрзл",
        "ржмрзНржпрж╛рж░рзЗржи ржжрзНржмрзАржк, ржмрзНрж░рзБржХрж▓рж┐ржи",
        "ржмрж╛рж░рзНржЧрзЗржи ржХрж╛ржЙржирзНржЯрж┐, ржирж┐ржЙ ржЬрж╛рж░рзНрж╕рж┐",
        "ржПржнрж╛рж░рзЗрж╕рзНржЯ, ржирж░рзНрже ржбрж╛ржХрзЛржЯрж╛",
        "рззрзпрзмрзк ржмрзНрж░рж╛ржЬрж┐рж▓рзЗрж░ рж░рж╛рж╖рзНржЯрзНрж░ржкрждрж┐ ржкржжрзЗ рж╢рзВржирзНржпрждрж╛",
        "ржХрзНржпрж╛рж▓рж┐ржлрзЛрж░рзНржирж┐ржпрж╝рж╛рж░ ржЧржнрж░рзНржирж░ ржкрзНрж░рждрзНржпрж╛рж╣рж╛рж░ ржирж┐рж░рзНржмрж╛ржЪржи, рзирзжрзжрзй",
        "ржорж╣рж╛ржжрзЗрж╢ржЧрзБрж▓рзЛрж░ ржоржзрзНржпржмрж░рзНрждрзА рж╕рзАржорж╛ржирж╛",
        "рж╕рзНржХржЯрж▓рзНржпрж╛ржирзНржбрзЗрж░ ржЬржиржорж┐рждрж┐ржХ ржЗрждрж┐рж╣рж╛рж╕",
        "ржорж╛рж░рзНржХрж┐ржи ржпрзБржХрзНрждрж░рж╛рж╖рзНржЯрзНрж░рзЗрж░ ржкрзНрж░рждрж┐ржирж┐ржзрж┐ рж╕ржнрж╛ ржирж┐рж░рзНржмрж╛ржЪржи, рззрзорзйрзи",
        "ржЪрж┐ржпрж╝рж╛ржкрж╛рж╕",
        "ржЕржнрж┐ржмрж╛рж╕ржирзЗрж░ ржЕрж░рзНржержирзИрждрж┐ржХ ржкрзНрж░ржнрж╛ржм",
        "ржЧрзБржЬ рж▓рзЗржХ ржЙржкрждрзНржпржХрж╛",
        "ржорж╛рж░рзНржХрж┐ржи ржпрзБржХрзНрждрж░рж╛рж╖рзНржЯрзНрж░рзЗ ржЕржнрж┐ржмрж╛рж╕ржи",
        "ржжрж┐рж▓рзНрж▓рж┐рж░ ржЬрж▓ржмрж╛ржпрж╝рзБ",
        "ржирж┐ржЙ ржЗржпрж╝рж░рзНржХ рж╕рж┐ржЯрж┐рж░ ржЬрж▓ржмрж╛ржпрж╝рзБ",
        "ржирж┐ржЙ ржЗржпрж╝рж░рзНржХрзЗрж░ ржЬрж▓ржмрж╛ржпрж╝рзБ (рж░рж╛ржЬрзНржп)",
        "ржХрзНржпрж╛рж▓рж┐ржлрзЛрж░рзНржирж┐ржпрж╝рж╛рж░ ржЬрж▓ржмрж╛ржпрж╝рзБ",
        "ржЕржирзНржЯрж╛рж░рж┐ржУрж░ ржЬржиржорж┐рждрж┐",
        "ржПрж╢рзАржпрж╝ ржорж╛рж░рзНржХрж┐ржирзАржжрзЗрж░ ржЬржиржорж┐рждрж┐",
        "ржмрзЗржЗржд рж╢рзЗржорзЗрж╢",
        "ржЗржЙрж░рзЛржкрзАржпрж╝ ржЕрж╕рзНржЯрзНрж░рзЗрж▓рж┐ржпрж╝рж╛ржи",
        "ржорзЗрж░рж┐рж▓рзНржпрж╛ржирзНржбрзЗрж░ ржнрзВржЧрзЛрж▓",
        "ржЗржЙржХржирзЗрж░ ржнрзВржЧрзЛрж▓",
        "ржХрж░рж╛ржЪрж┐рж░ ржЬржиржорж┐рждрж┐",
        "ржУржпрж╝рж╛рж╢рж┐ржВржЯржи ржбрж┐рж╕рж┐рж░ ржЬржиржорж┐рждрж┐",
        "ржирж┐ржЙ ржЗржпрж╝рж░рзНржХ рж╕рж┐ржЯрж┐рж░ ржЬржиржорж┐рждрж┐ржХ ржЗрждрж┐рж╣рж╛рж╕",
        "рж╢рзНржмрзЗрждрж╛ржЩрзНржЧ ржорж╛рж░рзНржХрж┐ржирзА",
        "рж╢рзНржмрзЗрждрж╛ржЩрзНржЧ ржжржХрзНрж╖рж┐ржг ржЖржлрзНрж░рж┐ржХрж╛ржи",
        "рждрж╛рж╕ржорж╛ржирж┐ржпрж╝рж╛ржи ржмржирзНржпржкрзНрж░рж╛ржгрзА ржмрж┐рж╢рзНржм ржРрждрж┐рж╣рзНржпржмрж╛рж╣рзА ржПрж▓рж╛ржХрж╛",
        "ржкрзБржпрж╝рзЗрж░рзНрждрзЛ рж░рж┐ржХрзЛржпрж╝ ржЪрзАржирж╛ ржЕржнрж┐ржмрж╛рж╕ржи",
        "рж╕рж╛рж╕ржХрзНржпрж╛ржЪрзБржпрж╝рж╛ржирзЗрж░ ржнрзВржЧрзЛрж▓",
        "ржоржирзНржЯрж╛ржирж╛рж░ ржнрзВржЧрзЛрж▓",
        "ржнрж╛рж░рзНржоржирзНржЯрзЗрж░ ржнрзВржЧрзЛрж▓",
        "ржирж┐ржЙ ржорзЗржХрзНрж╕рж┐ржХрзЛрж░ ржнрзВржЧрзЛрж▓",
        "ржЬрзЗржирж┐ржи",
        "ржорж╛рж░рзНржХрж┐ржи ржпрзБржХрзНрждрж░рж╛рж╖рзНржЯрзНрж░рзЗ ржЖржлрзНрж░рж┐ржХрж╛ржи ржЕржнрж┐ржмрж╛рж╕ржи",
        "ржЬрзЛрж╣рж░",
        "ржХрж╛ржЙржирзНржЯрж┐ ржХрзЗрж░рж┐",
        "ржХрж╛ржЙржирзНржЯрж┐ рж▓рж┐ржорзЗрж░рж┐ржХ",
        "ржжржХрзНрж╖рж┐ржг рж╢ржЩрзНржХрзБрж░ ржЬржиржорж┐рждрж┐",
        "ржлрж┐рж▓рж┐рж╕рзНрждрж┐ржирзЗрж░ ржЬржиржорж┐рждрж┐ржХ ржЗрждрж┐рж╣рж╛рж╕ (ржЕржЮрзНржЪрж▓)",
        "ржЬрзЗржирж╛рж░рзЗрж╢ржи ржЖрж▓ржлрж╛рж░ ржЬржиржорж┐рждрж┐",
        "ржмрзЗржЗржд рж╢рзЗржЖржи",
        "ржжржХрзНрж╖рж┐ржг ржЖржлрзНрж░рж┐ржХрж╛рж░ ржЬржиржорж┐рждрж┐",
        "ржкрзВрж░рзНржм ржЗржВрж▓рзНржпрж╛ржирзНржб",
        "ржмрзЗржбржлрзЛрж░рзНржбрж╢рж╛ржпрж╝рж╛рж░",
        "рж╣рж╛ржУржпрж╝рж╛рж░рзНрже, ржирж┐ржЙ ржЬрж╛рж░рзНрж╕рж┐",
        "рж▓рж╛рждржнрж┐ржпрж╝рж╛рж░ ржкрзНрж░рж╢рж╛рж╕ржирж┐ржХ ржмрж┐ржнрж╛ржЧ (рзирзжрзжрзп-рзирзжрзирзз)",
        "ржмрзНрж░рзБржирж╛ржЗ-ржорзБржпрж╝рж╛рж░рж╛ ржЬрзЗрж▓рж╛",
        "ржЗржВрж▓рзНржпрж╛ржирзНржбрзЗрж░ ржЖржирзБрж╖рзНржарж╛ржирж┐ржХ ржХрж╛ржЙржирзНржЯрж┐",
        "ржмрзЗрж▓рж╛рж░рзБрж╢рзЗрж░ ржЬржиржорж┐рждрж┐",
        "ржмрзЗржЗржд рж╕рж╛рж╣рзБрж░",
        "рждрж╛ржиржЬрж╛ржирж┐ржпрж╝рж╛рж░ ржЬржиржорж┐рждрж┐",
        "ржлрж┐рж▓рж┐рж╕рзНрждрж┐ржирзЗрж░ ржЬржиржорж┐рждрж┐",
        "ржкрзЗржирж╛ржВржпрж╝рзЗрж░ ржЬржиржорж┐рждрж┐",
        "ржорж╛рж░рзНржХрж┐ржи ржпрзБржХрзНрждрж░рж╛рж╖рзНржЯрзНрж░рзЗрж░ рж╕рзБржкрзНрж░рж┐ржо ржХрзЛрж░рзНржЯрзЗрж░ ржЬржиржорж┐рждрж┐"
    ],
    "ржЗржоржи": [
        "рж╕рж╛ржорж╛ржЬрж┐ржХ ржЙржирзНржиржпрж╝ржи рждрждрзНрждрзНржм",
        "ржжрж╛рж░рзНржЬрж┐рж▓рж┐ржВржпрж╝рзЗрж░ ржЗрждрж┐рж╣рж╛рж╕",
        "ржХрж░рж╛ржЪрж┐ рж╣рж╛рж░ржмрж╛рж░",
        "ржЙрж░ржлрж╛рж░ ржЗрждрж┐рж╣рж╛рж╕",
        "ржПрж░рж╛ржЧржи",
        "ржорж╛ржЧрж░рзЗржмрзЗ ржЖрж░ржм ржЕржнрж┐ржмрж╛рж╕ржи",
        "рж╕рзЗржирзНржЯрзНрж░рж╛рж▓ ржнрзНржпрж╛рж▓рж┐ (ржХрзНржпрж╛рж▓рж┐ржлрзЛрж░рзНржирж┐ржпрж╝рж╛)",
        "ржХрж▓ржорзНржмрж┐ржпрж╝рж╛рж░ рж╕рзАржорж╛ржирж╛",
        "ржЖрждрж╛рждрзБрж░рзНржХ ржмрж╛ржБржз",
        "рждрж╛ржЙржХрж╛ рж╣рзНрж░ржж",
        "ржорзЛржиржЧрж╛рж▓рж╛, ржжржХрзНрж╖рж┐ржг рж╕рзБржжрж╛ржи",
        "ржХрзЗржкржи ржЪрзНржпрж╛ржкрзЗрж▓",
        "ржЖржорж╛рж╕рж┐ржпрж╝рж╛",
        "ржЗрж╕рзНрждрж╛ржорзНржмрзБрж▓ ржЦрж╛рж▓",
        "ржмрзЗрж╕рж╛рж░рж╛ржмрж┐ржпрж╝рж╛",
        "рж╕рж┐ржЩрзНржЧрж╛ржкрзБрж░ ржкрж╛ржерж░",
        "ржЖржирзНрждрзЛржлрж╛рж▓рзНрж▓рж╛",
        "ржЖржирзНрждрж░рзНржЬрж╛рждрж┐ржХ ржЕржЮрзНржЪрж▓",
        "ржнрзВ-рж░рж╛ржЬржирзАрждрж┐",
        "рж╕рж╛ржВрж╕рзНржХрзГрждрж┐ржХ ржЕрж░рзНржержирзАрждрж┐",
        "ржЗрж╕рзНрждрж╛ржорзНржмрзБрж▓рзЗрж░ ржЬрж▓ржмрж╛ржпрж╝рзБ",
        "ржлрж╛рж░рж▓рзЗ рж╣рж╛ржЩрзНржЧрж╛рж░ржлрзЛрж░рзНржб ржжрзБрж░рзНржЧ",
        "ржЧрзЗржЬрзЗржЯрж┐ржпрж╝рж╛рж░",
        "ржЙржЗрж╕ржХржирж╕рж┐ржирзЗрж░ ржнрзВржЧрзЛрж▓",
        "рж╣рзБржбрзБ ржкрж░рзНржмржд",
        "ржкрж░рж┐ржмрзЗрж╢ржЧржд ржирж┐ржпрж╝ржирзНрждрзНрж░ржгржмрж╛ржж",
        "ржХрж╛рж░рж┐ржЧрж░рж┐ ржнрзВржЧрзЛрж▓",
        "ржЯрзЗржирзЗржирж╛ ржХрзЛржи",
        "ржХрж╛рж▓рзБрж╕рж╛",
        "ржХрзЗрж▓рж╛ржирзНрждрж╛ржи",
        "ржмрж╛рж░рзНржирж┐рж╣рж╛ржЯ",
        "ржжржХрзНрж╖рж┐ржг ржжрзНржмрзАржкрзЗрж░ ржнрзВржЧрзЛрж▓",
        "рж╕рж┐рж░рж╛ржл ржмржирзНржжрж░"
    ],
    "NotNahid": [
        "ржЖржЗржЬрзНржпрж╛ржХ ржЕрзНржпрж╛ржбрзЗржУрж▓",
        "ржХрзГрждрзНрж░рж┐ржо ржмрзБржжрзНржзрж┐ржорждрзНрждрж╛рж░ ржжрзГрж╢рзНржпржХрж▓рж╛",
        "ржЖржХрж┐рж▓ ржЖржЧрж╛",
        "ржмрзБрж╢рж┐ (ржЕржЮрзНржЪрж▓)",
        "рж╕ржорж╛рж░рж╕рзЗржЯрзЗрж░ ржнрзВржЧрзЛрж▓",
        "ржЧрж╛рж░рж┐ржмрж▓рзНржбрж┐ ржЖржЧрзНржирзЗржпрж╝ ржмрж▓ржпрж╝",
        "ржЗржбрж░рзЗржб",
        "ржХрзНрж░рзЛржпрж╝рзЗрж╢рж┐ржпрж╝рж╛-рж╕рж╛рж░рзНржмрж┐ржпрж╝рж╛ рж╕рзАржорж╛ржирзНржд ржмрж┐рж░рзЛржз",
        "ржирзЗржнрж╛ржжрж╛ржкрзНрж▓рж╛ржирзЛ",
        "ржЧрзЗрж░рзЗрж░рзЛ",
        "ржХрзЗржк ржЗржпрж╝рж░рзНржХ ржЙржкржжрзНржмрзАржк",
        "рж░ржоржирж┐ ржХрзНрж▓рж╛рж╕рж┐ржХрзНржпрж╛рж▓ ржЗржирж╕рзНржЯрж┐ржЯрж┐ржЙржЯ",
        "рж░рзЗржмрзЗржХрж╛ ржЬрзЛржирзНрж╕",
        "рж╣рзНржпрж╛рж▓рж┐ржлрзНржпрж╛ржХрзНрж╕ ржмрж┐рж╕рзНржлрзЛрж░ржг",
        "ржПржХрзНрж╕ржкрзЛ рзмрзн",
        "ржорж╛ржЙржирзНржЯ ржПржЯржирж╛рж░ ржЕржЧрзНржирзНржпрзБрзОржкрж╛ржд, рззрзмрзмрзп"
    ]
}

def count_words(title):
    """Count words with proper error handling"""
    encoded_title = urllib.parse.quote(title)
    url = f"https://bn.wikipedia.org/w/api.php?action=query&prop=revisions&rvprop=content&format=json&titles={encoded_title}"
    
    try:
        headers = {'User-Agent': 'WikiWordCounter/1.0 (Educational Purpose)'}
        response = requests.get(url, headers=headers, timeout=15)
        
        if response.status_code != 200:
            return 0
        
        data = response.json()
        pages = data.get('query', {}).get('pages', {})
        
        for page_id, page_data in pages.items():
            if page_id == '-1':
                return 0
            if 'revisions' in page_data:
                content = page_data['revisions'][0]['*']
                
                # Clean wiki markup
                clean = content
                clean = re.sub(r'\{\{[^}]+\}\}', '', clean)
                clean = re.sub(r'\[\[(?:[^\]|]+\|)?([^\]]+)\]\]', r'\1', clean)
                clean = re.sub(r'={2,}[^=]+={2,}', '', clean)
                clean = re.sub(r'<[^>]+>', '', clean)
                clean = re.sub(r'\[\[File:[^\]]+\]\]', '', clean)
                clean = re.sub(r'\[\[ржЪрж┐рждрзНрж░:[^\]]+\]\]', '', clean)
                clean = re.sub(r"'{2,}", '', clean)
                clean = re.sub(r'\|[^\n]*', '', clean)
                
                words = len([w for w in clean.split() if w.strip()])
                return words
    except:
        return 0
    return 0

# Main execution
print("=" * 80)
print("ЁЯПЖ EKUSHEY COMPETITION 2026 - WORD COUNT COMPARISON")
print("=" * 80)

results = {}

for user, articles in competitors.items():
    print(f"\nЁЯУК Counting for: {user} ({len(articles)} articles)")
    print("-" * 50)
    
    total = 0
    for i, article in enumerate(articles, 1):
        words = count_words(article)
        total += words
        print(f"  {i:>2}. {article[:40]:<42} {words:>8,}")
        time.sleep(0.3)  # Avoid rate limiting
    
    results[user] = {
        'articles': len(articles),
        'words': total,
        'avg': total // len(articles) if articles else 0
    }
    print(f"\n  тЬЕ {user} Total: {total:,} words")

# Final Leaderboard
print("\n" + "=" * 80)
print("ЁЯПЖ FINAL LEADERBOARD (Sorted by Word Count)")
print("=" * 80)
print(f"{'Rank':<6} {'User':<20} {'Articles':>10} {'Total Words':>15} {'Avg/Article':>12}")
print("-" * 80)

sorted_results = sorted(results.items(), key=lambda x: x[1]['words'], reverse=True)

medals = ['ЁЯеЗ', 'ЁЯеИ', 'ЁЯеЙ', '4я╕ПтГг', '5я╕ПтГг']

for i, (user, data) in enumerate(sorted_results):
    medal = medals[i] if i < 5 else f"{i+1}."
    marker = " ЁЯСИ YOU!" if user == "NotNahid" else ""
    print(f"{medal:<6} {user:<20} {data['articles']:>10} {data['words']:>15,} {data['avg']:>12,}{marker}")

print("=" * 80)

# Prize estimation
print("\nЁЯТ░ PRIZE ESTIMATION:")
print("-" * 40)

prize_map = {
    0: ("ЁЯеЗ 1st Place", "рззрзж,рзжрзжрзж ржЯрж╛ржХрж╛"),
    1: ("ЁЯеИ 2nd Place", "рзо,рзжрзжрзж ржЯрж╛ржХрж╛"),
    2: ("ЁЯеЙ 3rd Place", "рзм,рзжрзжрзж ржЯрж╛ржХрж╛"),
    3: ("4th Place", "рзк,рзжрзжрзж ржЯрж╛ржХрж╛"),
    4: ("5th Place", "рзк,рзжрзжрзж ржЯрж╛ржХрж╛"),
}

for i, (user, data) in enumerate(sorted_results):
    if i < 5:
        place, prize = prize_map[i]
        marker = " тнР" if user == "NotNahid" else ""
        print(f"  {place}: {user} - {prize}{marker}")

print("=" * 80)
EOF

chmod +x compare_all.py
python3 compare_all.py
